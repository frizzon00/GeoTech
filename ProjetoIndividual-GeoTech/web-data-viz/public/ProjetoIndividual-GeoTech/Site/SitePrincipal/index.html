<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GeoTech - Página Inicial</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="icon" href="../../../assets/GeoTech.png" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body onload="qtdUser()">
    <div class="header">

        <div class="container" id="container">
            <div class="principal">
                <img src="../../../assets/GeoTech.png" alt="" class="logo" width="55px">
                <h1 id="tituloNome" class="titulo">GeoTech</h1>
            </div>
            <ul class="navbar">
                <li>
                    <a href="index.html">Início</a>
                </li>
                <li>
                    <a href="curiosidadades.html">Curiosidades</a>
                </li>
                <li>
                    <a href="jogos.html">Jogos</a>
                </li>
                <li>
                    <a style="display: flex; width: max-content;" href="real.html">Tempo Real</a>
                </li>
                <li>
                    <a href="contato.html">Feedback</a>
                </li>
                <li>
                    |
                </li>
                <li onclick="sair()">
                    <Span style="color: #fff; font-weight: bold; cursor: pointer;">Sair</Span>
                </li>
            </ul>
        </div>
    </div>
    <div class="conteudo">
        <h1 style="color: white; margin-bottom: -20px ;">Conheça os Continentes e seus Países</h1>
        <div class="inicio1">
            <div class="continentes" id="África">
                <img class="cardimg"
                    src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/86/Africa_%28orthographic_projection%29.svg/800px-Africa_%28orthographic_projection%29.svg.png"
                    alt="">
                <h5>África</h5>
                <p class="quantidade" id="userAfrica">Usuarios:</p>
                <a href="Continentes/africa.html">
                    <button type="button" class="botaoGraficos">Ver Informações</button>
                </a>
            </div>
            <div class="continentes" id="América do Norte e Central">
                <img class="cardimg"
                    src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/43/Location_North_America.svg/250px-Location_North_America.svg.png"
                    alt="">
                <h5>América do Norte e Central</h5>
                <p class="quantidade" id="userAmericaN">Usuarios:</p>
                <a href="Continentes/centroNorte.html">
                    <button type="button" class="botaoGraficos">Ver Informações</button>
                </a>
            </div>
            <div class="continentes" id="América do Sul">
                <img class="cardimg"
                    src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/63/Latin_America_%28orthographic_projection%29.svg/1200px-Latin_America_%28orthographic_projection%29.svg.png"
                    alt="">
                <h5>América do Sul</h5>
                <p class="quantidade" id="userAmericaS">Usuarios:</p>
                <a href="Continentes/sul.html">
                    <button type="button" class="botaoGraficos">Ver Informações</button>
                </a>
            </div>
        </div>
        <div class="inicio2">
            <div class="continentes" id="Ásia">
                <img class="cardimg"
                    src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/80/Asia_%28orthographic_projection%29.svg/250px-Asia_%28orthographic_projection%29.svg.png"
                    alt="">
                <h5>Ásia</h5>
                <p class="quantidade" id="userAsia">Usuarios:</p>
                <a href="Continentes/asia.html">
                    <button type="button" class="botaoGraficos">Ver Informações</button>
                </a>
            </div>
            <div class="continentes" id="Europa">
                <img class="cardimg"
                    src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/44/Europe_orthographic_Caucasus_Urals_boundary_%28with_borders%29.svg/250px-Europe_orthographic_Caucasus_Urals_boundary_%28with_borders%29.svg.png"
                    alt="">
                <h5>Europa</h5>
                <p class="quantidade" id="userEuropa">Usuarios:</p>
                <a href="Continentes/europa.html">
                    <button type="button" class="botaoGraficos">Ver Informações</button>
                </a>
            </div>
            <div class="continentes" id="Oceânia">
                <img class="cardimg"
                    src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/8e/Oceania_%28orthographic_projection%29.svg/250px-Oceania_%28orthographic_projection%29.svg.png"
                    alt="">
                <h5>Oceânia</h5>
                <p class="quantidade" id="userOceania">Usuarios:</p>
                <a href="Continentes/oceania.html">
                    <button type="button" class="botaoGraficos">Ver Informações</button>
                </a>
            </div>
        </div>
    </div>
    <div class="footer">
        <p class="footerp">© Copyright GeoTech. Todos os Direitos Reservados</p>
    </div>
</body>

</html>

<script>


    function sair() {
        sessionStorage.clear();
        window.location = "../../../index.html";
    }

    const nomeUser = sessionStorage.NOME_USUARIO;
    const idUser = sessionStorage.ID_USUARIO;

    if (idUser == 1) {
        container.innerHTML = `<div class="principal" style="margin-left: -25px;"><a href="monitoramento.html" style="display: flex;
                flex-direction: column;
                justify-content: center;
                cursor:auto;">
                    <i class="fa-solid fa-gear" style="color: #ffffff; font-size: 25px;cursor: pointer;"></i></a>
                <img src="../../../assets/GeoTech.png" alt="" class="logo" width="55px">
                <h1 id="tituloNome" class="titulo">GeoTech</h1>
            </div>
            <ul class="navbar">
                <li>
                    <a href="index.html">Início</a>
                </li>
                <li>
                    <a href="curiosidadades.html">Curiosidades</a>
                </li>
                <li>
                    <a href="jogos.html">Jogos</a>
                </li>
                <li>
                    <a style="display: flex; width: max-content;" href="real.html">Tempo Real</a>
                </li>
                <li>
                    <a href="contato.html">Feedback</a>
                </li>
                <li>
                    |
                </li>
                <li onclick="sair()">
                    <Span style="color: #fff; font-weight: bold; cursor: pointer;">Sair</Span>
                </li>
            </ul>`
    }
    const emailUser = sessionStorage.EMAIL_USUARIO;
    // Recupere o texto armazenado na sessionStorage
    const continenteUser = sessionStorage.getItem('CONTINENTE_USUARIO');

    // Selecione a div com o id igual ao texto armazenado
    const div = document.getElementById(continenteUser);

    // Altere o estilo da borda da div
    div.style.animation = "pulse 1.55s infinite, mudarBorda 4s linear infinite";

    const continenteUsuario = sessionStorage.getItem('CONTINENTE_USUARIO');

    // Selecione a div correspondente ao continente do usuário
    const divContinenteUsuario = document.getElementById(continenteUsuario);

    // Verifique se a div do continente do usuário existe
    if (divContinenteUsuario) {
        // Obtenha o elemento <h5> dentro da div e adicione o texto "Seu Continente" antes do nome do continente
        const h5Element = divContinenteUsuario.querySelector('h5');
        if (h5Element) {
            h5Element.textContent = `Seu continente: ${h5Element.textContent}`;
            h5Element.style.animation = "mudarTitulo 4s linear infinite";
        }
    }
    setInterval(qtdUser, 10000);

    function qtdUser() {
        africa()
        asia()
        americaN()
        americaS()
        europa()
        oceania()


    }

    function africa() {
        fetch("/usuarios/africa").then(function (resposta) {
            if (resposta.ok) {
                if (resposta.status == 204) {
                    throw "Nenhum resultado encontrado!!";
                }
                resposta.json().then(function (resposta) {
                    console.log("Dados recebidos: ", JSON.stringify(resposta));

                    userAfrica.innerHTML = `Usuarios: ${resposta.continente}`;

                });
            } else {
                throw ('Houve um erro na API!');
            }
        }).catch(function (resposta) {
            console.error(resposta);
        });
    }

    function asia() {
        fetch("/usuarios/asia").then(function (resposta) {
            if (resposta.ok) {
                if (resposta.status == 204) {
                    throw "Nenhum resultado encontrado!!";
                }
                resposta.json().then(function (resposta) {
                    console.log("Dados recebidos: ", JSON.stringify(resposta));

                    userAsia.innerHTML = `Usuarios: ${resposta.continente}`;

                });
            } else {
                throw ('Houve um erro na API!');
            }
        }).catch(function (resposta) {
            console.error(resposta);
        });
    }

    function americaN() {
        fetch("/usuarios/americaN").then(function (resposta) {
            if (resposta.ok) {
                if (resposta.status == 204) {
                    throw "Nenhum resultado encontrado!!";
                }
                resposta.json().then(function (resposta) {
                    console.log("Dados recebidos: ", JSON.stringify(resposta));

                    userAmericaN.innerHTML = `Usuarios: ${resposta.continente}`;

                });
            } else {
                throw ('Houve um erro na API!');
            }
        }).catch(function (resposta) {
            console.error(resposta);
        });
    }

    function americaS() {
        fetch("/usuarios/americaS").then(function (resposta) {
            if (resposta.ok) {
                if (resposta.status == 204) {
                    throw "Nenhum resultado encontrado!!";
                }
                resposta.json().then(function (resposta) {
                    console.log("Dados recebidos: ", JSON.stringify(resposta));

                    userAmericaS.innerHTML = `Usuarios: ${resposta.continente}`;

                });
            } else {
                throw ('Houve um erro na API!');
            }
        }).catch(function (resposta) {
            console.error(resposta);
        });
    }

    function europa() {
        fetch("/usuarios/europa").then(function (resposta) {
            if (resposta.ok) {
                if (resposta.status == 204) {
                    throw "Nenhum resultado encontrado!!";
                }
                resposta.json().then(function (resposta) {
                    console.log("Dados recebidos: ", JSON.stringify(resposta));

                    userEuropa.innerHTML = `Usuarios: ${resposta.continente}`;

                });
            } else {
                throw ('Houve um erro na API!');
            }
        }).catch(function (resposta) {
            console.error(resposta);
        });
    }

    function oceania() {
        fetch("/usuarios/oceania").then(function (resposta) {
            if (resposta.ok) {
                if (resposta.status == 204) {
                    throw "Nenhum resultado encontrado!!";
                }
                resposta.json().then(function (resposta) {
                    console.log("Dados recebidos: ", JSON.stringify(resposta));

                    userOceania.innerHTML = `Usuarios: ${resposta.continente}`;

                });
            } else {
                throw ('Houve um erro na API!');
            }
        }).catch(function (resposta) {
            console.error(resposta);
        });
    }



</script>